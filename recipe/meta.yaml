{% set name = "katex" %}
{% set version = "0.16.17" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  - url: https://github.com/KaTeX/KaTeX/archive/refs/tags/v{{ version }}.tar.gz
    sha256: 86423ddb8e7db5a9b79ce0f8a5df3c589af1c59f4efd128832990bb121c62fc0

  - url: https://github.com/KaTeX/KaTeX/releases/download/v{{ version }}/katex.tar.gz
    sha256: 4a5b05667ade3ce6390b3ed88dbb66fe22f7ac9d1ed64f3aa6560435d3614a54
    folder: dist

build:
  number: 0
  noarch: generic
  script:
    - tgz=$(npm pack)
    - npm install -g $tgz

requirements:
  host:
    - nodejs
  run:
    - nodejs
    - __unix

test:
  commands:
    - test -f $PREFIX/bin/katex
    - katex --version

about:
  home: https://github.com/KaTeX/KaTeX
  license: MIT
  license_file: LICENSE
  summary: Fast math typesetting for the web.

extra:
  recipe-maintainers:
    - isuruf
